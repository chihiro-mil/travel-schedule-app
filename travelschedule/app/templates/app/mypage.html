{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mypage</title>
    <link rel="stylesheet" href="{% static "css/style.css" %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="mypage-body">
    <a href="{{ back_url|default:"#" }}"class="back-button">＜戻る</a>

    {% if messages %}
        <div class="change-messages">
            {% for message in messages %}
                <div class="alert {{ message.tags }}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}

    <div class="change-container">
        <h1 class=mypage-change-title>マイページ設定</h1>

        <a href="{% url 'app:change_username' %}" class="user-button">ユーザー名変更</a><br><br>
        <a href="{% url 'app:change_email' %}" class="user-button">メールアドレス変更</a><br><br>
        <a href="{% url 'app:change_password' %}" class="user-button">パスワード変更</a><br><br>


    </div>

    <footer class="footer-nav">
        <ul>
            <li>
                <a href="{% url 'app:home' %}">
                    <span class="footer-icon-label">
                        <i class="fas fa-home"></i><br>ホーム
                    </span>
                </a>
            </li>
            <li>
                <span class="footer-icon-label disabled-link">
                    <i class="fas fa-plus-square"></i><br>予定追加
                </span>
            </li>
            <li>
                <a href="{% url 'app:mypage' %}">
                    <span class="footer-icon-label">
                        <i class="fas fa-user-cog"></i><br>マイページ設定
                    </span>
                </a>
            </li>
            <li>
                <a href="{% url 'app:logout' %}">
                    <span class="footer-icon-label">
                        <i class="fas fa-sign-out-alt"></i><br>ログアウト
                    </span>
                </a>
            </li>
        </ul>
    </footer>

    <script>
        let lastScrollTop = 0;
        const footer = document.querySelector('.footer-nav');

        window.addEventListener('scroll', function() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

            if (scrollTop > lastScrollTop) {
                footer.style.transform = 'translateY(100%)';
            } else {
                footer.style.transform = 'translateY(0)';
            }
            lastScrollTop = scrollTop <= 0 ? 0 :scrollTop;
        });
    </script>
</body>
</html>